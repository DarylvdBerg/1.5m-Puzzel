<!DOCTYPE html>
<html lang="nl" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>1.5 meter puzzel</title>
    <script type="text/javascript" src="js/aframe.min.js"></script>
    <script type="text/javascript" src="js/main.js"></script>
    <script type="text/javascript" src="js/arrow.js"></script>
    <script type="text/javascript" src="js/aframe-gamepad-controls.js"></script>
  </head>
  <body>
    <a-scene>

      <!-- Assets -->
      <a-assets>
        <img id="door-texture" src="resources/textures/door.png" alt="">
        <a-asset-item id="world-o" src="resources/models/worldtest.obj"></a-asset-item>
        <a-asset-item id="world-m" src="resources/models/worldtest.mtl"></a-asset-item>
        <a-asset-item id="human-obj" src="resources/models/human.obj"></a-asset-item>
        <a-asset-item id="human-mtl" src="resources/models/human.mtl"></a-asset-item>
        <a-asset-item id="human-sick-mtl" src="resources/models/human-sick.mtl"></a-asset-item>
      </a-assets>

      <!-- Camera -->
      <a-camera position="0 1.8 20" wasd-controls="acceleration: 200" gamepad-controls>
        <!-- Reticle -->
          <a-entity cursor="fuse: false"
            position="0 0 -1"
            geometry="primitive: ring; radiusInner: 0.013; radiusOuter: 0.02"
            material="color: #242424; shader: flat; opacity: 0.8">
          </a-entity>
          <a-entity cursor="fuse: true"
            position="0 0 -1"
            geometry="primitive: ring; radiusInner: 0.04; radiusOuter: 0.042"
            material="color: #077560; shader: flat; opacity: 0.6"
            animation__click="property: material.color; startEvents: click; easing: easeInCubic; dur: 200; from: #242424; to: #077560"
            animation__fusing="property: geometry.radiusInner; startEvents: fusing; easing: easeInCubic; dur: 1500; from: 0.04; to: 0.022"
            animation__mouseleave="property: geometry.radiusInner; startEvents: mouseleave; easing: easeInCubic; dur: 200; to: 0.04"
            raycaster="objects: .clickable; far: 2">
          </a-entity>
        <!-- Reticle interactable -->
          <a-entity cursor="fuse: false"
            position="0 0 -1"
            geometry="primitive: ring; radiusInner: 0.013; radiusOuter: 0.02"
            material="color: #242424; shader: flat; opacity: 0.8">
          </a-entity>
          <a-entity cursor="fuse: true"
            position="0 0 -1"
            geometry="primitive: ring; radiusInner: 0.04; radiusOuter: 0.042"
            material="color: #077560; shader: flat; opacity: 0.6"
            animation__click="property: material.color; startEvents: click; easing: easeInCubic; dur: 200; from: #242424; to: #077560"
            animation__fusing="property: geometry.radiusInner; startEvents: fusing; easing: easeInCubic; dur: 1500; from: 0.04; to: 0.022"
            animation__mouseleave="property: geometry.radiusInner; startEvents: mouseleave; easing: easeInCubic; dur: 200; to: 0.04"
            raycaster="objects: .interactable; far: 50">
          </a-entity>
          <!-- Score -->
        <a-text id="js--score"></a-text>
        <a-text id="js--sick-counter"></a-text>
      </a-camera>

      <!-- Sky -->
      <a-sky color="#f9f7ff"></a-sky>

      <!-- Puzzel area 1 -->
      <a-entity id="js--area-1" obj-model="obj: #world-o; mtl: #world-m" visible="true">
        <!-- Puzzel wall -->
        <a-box id="js-puzzel-wall-1" position="0 10 -25" rotation="0 0 0" width="50" height="20" depth="1" color="#ff5757">
          <!-- Blockade to next puzzle -->
          <a-plane class="js--door-blocker" data-door-blocker="" color="grey" position="0 -8 0.55" width="2" height="4">
            <a-box class="js--door-unlocker-bad clickable" width="0.5" height="0.3" position="0 .1 -.4"></a-box>
            <a-text value="open" align="center" color="black" position="0 .1 .1"></a-text>
          </a-plane>
          <!-- door -->
          <a-plane id="js--door-puzzel-1" class="clickable" position="0 -8 0.52" width="2" height="4" src="#door-texture"></a-plane>
        </a-box>

        <a-box position="2 1 -4" color="blue" widht="1" height="2" >
            <a-box class="js--door-unlocker-good clickable" data-parent="js--area-1" width="0.5" height="0.3" depth="0.2" position="0 0.5 0.5"></a-box>
        </a-box>

        <!-- puzzle -->
        <a-box class="js--puzzle-grid-1" position="-12.5 11 -25" width="13" height="13" depth="2" color="blue">
          <a-box class="js--puzzle-button interactable" position="-4 -4 0.5" width="3" height="3" depth="2" color="red"></a-box>
          <a-box class="js--puzzle-button interactable" position="0 -4 0.5" width="3" height="3" depth="2" color="red"></a-box>
          <a-box class="js--puzzle-button interactable" position="4 -4 0.5" width="3" height="3" depth="2" color="red"></a-box>

          <a-box class="js--puzzle-button interactable" position="-4 0 0.5" width="3" height="3" depth="2" color="red"></a-box>
          <a-box class="js--puzzle-button interactable" position="0 0 0.5" width="3" height="3" depth="2" color="red"></a-box>
          <a-box class="js--puzzle-button interactable" position="4 0 0.5" width="3" height="3" depth="2" color="red"></a-box>

          <a-box class="js--puzzle-button interactable" position="-4 4 0.5" width="3" height="3" depth="2" color="red"></a-box>
          <a-box class="js--puzzle-button interactable" position="0 4 0.5" width="3" height="3" depth="2" color="red"></a-box>
          <a-box class="js--puzzle-button interactable" position="4 4 0.5" width="3" height="3" depth="2" color="red"></a-box>
        </a-box>

        <!-- puzzle solution spot -->
        <a-cylinder position="0 0 0" color="crimson" height="0.2" radius="1.5"></a-cylinder>

        <a-obj-model class="collidable" src="#human-obj" mtl="#human-mtl" position="0.28 0.33 -10" rotation="0 -90 0" scale="0.3 0.3 0.3"></a-obj-model>

      <a-entity>

      <!-- Puzzel area 2 -->
      <a-plane id="js--area-2" position="0 0 0" rotation="-90 0 0" width="50" height="50" color="#b9bdba" visible="false">
        <!-- Puzzel wall -->
        <a-box id="js-puzzel-wall-2" position="0 25 10" rotation="90 0 0" width="50" height="20" depth="1" color="blue"></a-box>
      </a-plane>

      <!-- Puzzel area 3 -->
      <a-plane id="js--area-3" position="0 0 0" rotation="-90 0 0" width="50" height="50" color="#b9bdba" visible="false">
        <!-- Puzzel wall -->
        <a-box id="js-puzzel-wall-3" position="0 25 10" rotation="90 0 0" width="50" height="20" depth="1" color="#ff5757"></a-box>
      </a-plane>

    </a-scene>
  </body>
</html>
